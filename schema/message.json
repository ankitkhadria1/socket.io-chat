{
	"id": "/Message",
	"type": "object",
	"properties": {
		"_id": {
			"type": "object",
			"default": "Object",
			"index": 1,
			"readonly": 1
		},
		"chatId": {
			"type": "object",
			"default": "null"
		},
		"text": {
			"type": "string",
			"minLength": 1,
			"default": "String"
		},
		"createdAt": {
			"type": "date-time",
			"default": "Date"
		},
		"authorId": {
			"type": "string",
			"default": "null"
		},
		"receivers": {
			"type": "array",
			"items": {
				"type": "string",
				"pattern": "^[a-z0-9]{12,24}$"
			},
			"default": "Array",
			"readonly": 1
		},
		"deleted": {
			"type": "array",
			"items": {
				"type": "string",
				"pattern": "^[a-z0-9]{12,24}$"
			},
			"default": "Array",
			"readonly": 1
		},
		"read": {
			"type": "array",
			"items": {
				"type": "string",
				"pattern": "^[a-z0-9]{12,24}$"
			},
			"default": "Array",
			"readonly": 1
		},
		"attachments": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"name": {
						"type": "string"
					},
					"mime": {
						"type": "string"
					},
					"ext": {
						"type": "string"
					},
					"url": {
						"type": "string"
					}
				}
			},
			"default": "Array"
		},
		"type": {
			"enum": [
				"user",
				"system"
			],
			"default": {
				"type": "String",
				"value": "user"
			}
		},
		"system": {
			"type": "object",
			"default": "Object"
		}
	},
	"required": [
		"chatId",
		"text",
		"createdAt",
		"authorId"
	]
}