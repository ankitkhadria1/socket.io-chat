{
	"id": "/Chat",
	"type": "object",
	"properties": {
		"_id": {
			"type": "object",
			"default": "Object",
			"index": 1,
			"readonly": 1
		},
		"name": {
			"type": "string",
			"minLength": 3,
			"default": "String"
		},
		"type": {
			"enum": [
				"private",
				"group"
			],
			"default": {
				"type": "String",
				"value": "private"
			},
			"readonly": 1
		},
		"creatorId": {
			"type": "string",
			"pattern": "^[a-z0-9]{12,24}$",
			"default": "String",
			"readonly": 1
		},
		"createdAt": {
			"type": "date-time",
			"default": "Date",
			"readonly": 1
		},
		"members": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"_id": {
						"type": "string",
						"pattern": "^[a-z0-9]{12,24}$"
					},
					"unreadCount": {
						"type": "number",
						"default": "Number",
						"min": 0
					}
				}
			},
			"default": "Array",
			"readonly": 1
		},
		"systemMessages": {
			"type": "object",
			"properties": {
				"addMember": {
					"type": "boolean",
					"default": {
						"type": "Boolean",
						"value": 0
					}
				},
				"removeMember": {
					"type": "boolean",
					"default": {
						"type": "Boolean",
						"value": 0
					}
				},
				"leaveMember": {
					"type": "boolean",
					"default": {
						"type": "Boolean",
						"value": 0
					}
				},
				"changeTitle": {
					"type": "boolean",
					"default": {
						"type": "Boolean",
						"value": 0
					}
				}
			},
			"default": "Object"
		},
		"countMessages": {
			"type": "number",
			"default": {
				"type": "Number",
				"value": 0
			},
			"readonly": 1
		},
		"lastMessageAt": {
			"type": "date-time",
			"default": "null",
			"readonly": 1
		}
	},
	"required": [
		"name",
		"creatorId",
		"createdAt",
		"type"
	]
}
