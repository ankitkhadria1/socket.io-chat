{"version":3,"sources":["../../src/component/respond.es6"],"names":[],"mappings":";;;;;;;;;;sBAA6B,WAAW;;IAA5B,KAAK;;qBACY,UAAU;;yBACjB,aAAa;;;;qBACZ,UAAU;;AAEjC,MAAM,gBAAgB,gCAAmB;AACxC,YAAW,CAAC,MAAM,EAAE,SAAS,EAAE;AAC9B,OAAK,CAAC,MAAM,CAAC,CAAC;;AAEd,MAAI,CAAC,SAAS,GAAG,SAAS,CAAC;EAC3B;;AAED,QAAO,CAAC,OAAO,EAAE;AAChB,MAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAE,EAAC,MAAM,EAAE,EAAC,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,EAAC,EAAC,CAAC,CAAC;EACpG;;AAED,WAAU,CAAC,OAAO,EAAE,IAAI,EAAE;;;AAGzB,MAAI,CAAC,MAAM,CAAC,OAAO,CACjB,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,UAAU,MAAM,EAAE;AACtD,UAAO,MAAM,CAAC,GAAG,CAAA;GACjB,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CACd,OAAO,CAAC,UAAU,MAAM,EAAE;AAC1B,SAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;GACrC,CAAC,CAAC;;AAEJ,MAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE;AAC7D,SAAM,EAAE;AACP,UAAM,EAAE,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;AAChC,QAAI,EAAE,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE;IAC9B;AACD,OAAI,EAAE,IAAI;GACV,CAAC,CAAC;EACH;;AAED,SAAQ,GAAG,EAEV;;AAED,UAAS,CAAC,OAAO,EAAE;AAClB,MAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,EAAC,MAAM,EAAE,EAAC,IAAI,EAAE,OAAO,EAAC,EAAC,CAAC,CAAC;EACxF;;AAED,aAAY,GAAG,EAEd;;AAED,iBAAgB,CAAC,OAAO,EAAE,IAAI,EAAE;AAC/B,MAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,kBAAkB,CAAC,EAAE;AACpE,SAAM,EAAE,EAAC,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,QAAQ,EAAC;AAChE,OAAI,EAAE,IAAI;GACV,CAAC,CAAC;EACH;;AAED,iBAAgB,GAAG,EAElB;;AAED,eAAc,GAAG,EAEhB;;AAED,aAAY,CAAC,OAAO,EAAE;AACrB,MAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,EAAC,MAAM,EAAE,OAAO,EAAC,CAAC,CAAC;EACnF;CACD;;qBAEc,gBAAgB","file":"respond.js","sourcesContent":["import * as EVENT       from '../events';\nimport { debug }        from '../debug';\nimport Component from './component';\nimport { typeOf } from '../utils';\n\nclass RespondComponent extends Component {\n\tconstructor(client, namespace) {\n\t\tsuper(client);\n\n\t\tthis.namespace = namespace;\n\t}\n\n\tnewChat(options) {\n\t\tthis.namespace.emit(this.client.eventName(EVENT.NEW_CHAT), {result: {data: options.chat.toJSON()}});\n\t}\n\n\tnewMessage(options, uuid) {\n\t\t// TODO: change\n\n\t\tthis.client.members\n\t\t\t.get(options.chat.get('members').map(function (member) {\n\t\t\t\treturn member._id\n\t\t\t}).map(String))\n\t\t\t.forEach(function (member) {\n\t\t\t\tmember.join(String(options.chat._id))\n\t\t\t});\n\n\t\tthis.namespace.emit(this.client.eventName(EVENT.NEW_MESSAGE), {\n\t\t\tresult: {\n\t\t\t\tchatId: String(options.chat._id),\n\t\t\t\tdata: options.message.toJSON()\n\t\t\t},\n\t\t\tuuid: uuid\n\t\t});\n\t}\n\n\tfindChat() {\n\n\t}\n\n\tfindChats(options) {\n\t\tthis.namespace.emit(this.client.eventName(EVENT.FIND_CHATS), {result: {data: options}});\n\t}\n\n\tfindMessages() {\n\n\t}\n\n\tfindLastMessages(options, uuid) {\n\t\tthis.namespace.emit(this.client.eventName(EVENT.FIND_LAST_MESSAGES), {\n\t\t\tresult: {chatId: String(options.chatId), data: options.messages},\n\t\t\tuuid: uuid\n\t\t});\n\t}\n\n\tfindFromMessages() {\n\n\t}\n\n\tfindAtMessages() {\n\n\t}\n\n\twriteMessage(options) {\n\t\tthis.namespace.emit(this.client.eventName(EVENT.WRITE_MESSAGE), {result: options});\n\t}\n}\n\nexport default RespondComponent;"]}