{"version":3,"sources":["../../src/models/chat.es6"],"names":[],"mappings":";;;;;;;;0BAAyB,gBAAgB;;;;sBAChB,WAAW;;;;qBAErB,UAAU,MAAM,EAAgB;KAAd,OAAO,yDAAG,EAAE;;AAC5C,KAAI,MAAM,GAAG,oBAAa,IAAI,CAAC,MAAM,CAAC,CAAC;AACvC,KAAI,EAAE,GAAO,MAAM,CAAC,GAAG,CAAC;;AAExB,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE,OAAO,CAAC,cAAc,GAAG,MAAM,CAAC;;AAE7D,OAAM,IAAI,iCAAe;AACxB,aAAW,GAAU;AACpB,QAAK,4BAAS,CAAC;;AAEf,QAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;GAC1B;;AAED,YAAU,CAAC,OAAO,EAAE;AACnB,OAAI,CAAC,GAAG,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;AAC/B,OAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;;AAExB,UAAO,IAAI,CAAC;GACZ;;AAED,WAAS,CAAC,MAAM,EAAE;AACjB,OAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;;AAE9B,UAAO,IAAI,CAAC;GACZ;;;AAGD,SAAO,UAAU,GAAG;AAAE,UAAO,OAAO,CAAC,cAAc,CAAC;GAAE;AACtD,SAAO,EAAE,GAAG;AAAE,UAAO,EAAE,CAAC;GAAE;AAC1B,SAAO,MAAM,GAAG;AAAE,UAAO,MAAM,CAAC;GAAE;;AAElC,YAAU,GAAG;AAAE,UAAO,OAAO,CAAC,cAAc,CAAC;GAAE;AAC/C,IAAE,GAAG;AAAE,UAAO,EAAE,CAAC;GAAE;AACnB,QAAM,GAAG;AAAE,UAAO,MAAM,CAAC;GAAE;EAC3B;;AAED,yBAAM,WAAW,CAAC,IAAI,CAAC,CAAC;;AAExB,QAAO,IAAI,CAAC;CACZ;;AAAA,CAAC","file":"chat.js","sourcesContent":["import Model        from '../model/index';\nimport SchemaLoader from '../schema';\n\nexport default function (client, options = {}) {\n\tlet schema = SchemaLoader.load('chat');\n\tlet db     = client._db;\n\n\tif (!options.collectionName) options.collectionName = 'chat';\n\n\tclass Chat extends Model {\n\t\tconstructor(...args) {\n\t\t\tsuper(...args);\n\n\t\t\tsuper.initialize(options);\n\t\t}\n\n\t\tsetCreator(creator) {\n\t\t\tthis.set('creatorId', creator);\n\t\t\tthis.addMember(creator);\n\n\t\t\treturn this;\n\t\t}\n\n\t\taddMember(member) {\n\t\t\tthis.members.addToSet(member);\n\n\t\t\treturn this;\n\t\t}\n\n\t\t// TODO: test with multiple clients. Static method can be invoked from the property `constructor` of the parent class;\n\t\tstatic collection() { return options.collectionName; }\n\t\tstatic db() { return db; }\n\t\tstatic schema() { return schema; }\n\n\t\tcollection() { return options.collectionName; }\n\t\tdb() { return db; }\n\t\tschema() { return schema; }\n\t}\n\n\tModel.ensureIndex(Chat);\n\n\treturn Chat;\n};"]}