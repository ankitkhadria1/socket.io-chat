{"version":3,"sources":["../src/chain.es6"],"names":[],"mappings":";;;;;;;;0BAAc,YAAY;;;;AAEnB,IAAI,IAAI,GAAG,SAAP,IAAI,GAAoC;KAAvB,KAAK,yDAAG,EAAE;KAAE,IAAI,yDAAG,EAAE;;AAChD,QAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AACvC,MAAI,KAAK,GAAG,CAAC,CAAC;;AAEd,WAAS,IAAI,CAAC,KAAK,EAAE;AACpB,OAAI,OAAO,KAAK,KAAK,WAAW,EAAE;AACjC,WAAO,MAAM,CAAC,KAAK,CAAC,CAAC;IACrB;;AAED,OAAI,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;;AAE7B,OAAI,SAAS,EAAE;AACd,SAAK,EAAE,CAAC;AACR,WAAO,wBAAE,QAAQ,CAAC,SAAS,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAClF;;AAED,OAAI,KAAK,KAAK,KAAK,CAAC,MAAM,EAAE;AAC3B,WAAO,OAAO,CAAC,IAAI,CAAC,CAAC;IACrB;GACD;;AAED,MAAI,CAAC,wBAAE,OAAO,CAAC,KAAK,CAAC,EAAE;AACtB,QAAK,CAAC,oBAAoB,CAAC,CAAC;AAC5B,UAAO,OAAO,CAAC,IAAI,CAAC,CAAC;GACrB;;AAED,MAAI,EAAE,CAAC;EACP,CAAC,CAAC;CACH,CAAC","file":"chain.js","sourcesContent":["import _ from 'underscore';\n\nexport let exec = function (chain = [], data = {}) {\n\treturn new Promise((resolve, reject) => {\n\t\tlet index = 0;\n\n\t\tfunction next(error) {\n\t\t\tif (typeof error !== \"undefined\") {\n\t\t\t\treturn reject(error);\n\t\t\t}\n\n\t\t\tlet chainItem = chain[index];\n\n\t\t\tif (chainItem) {\n\t\t\t\tindex++;\n\t\t\t\treturn _.isObject(chainItem) ? chainItem.exec(data, next) : chainItem(data, next);\n\t\t\t}\n\n\t\t\tif (index === chain.length) {\n\t\t\t\treturn resolve(data);\n\t\t\t}\n\t\t}\n\n\t\tif (!_.isArray(chain)) {\n\t\t\tdebug('chain is not array');\n\t\t\treturn resolve(data);\n\t\t}\n\n\t\tnext();\n\t});\n};"]}