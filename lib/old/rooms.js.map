{"version":3,"sources":["../../src/old/rooms.es6"],"names":[],"mappings":";;AAAA,AAAC,CAAA,YAAY;AACZ,aAAY,CAAC;;AAEb,OAAM,IAAI,SAAS,KAAK,CAAC;AACxB,aAAW,GAAU;AACpB,QAAK,4BAAS,CAAC;GACf;EACD;;AAED,OAAM,KAAK,CAAC;AACX,aAAW,GAAG;AACb,OAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;GACzB;;AAED,QAAM,CAAC,EAAE,EAAE;AACV,OAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;;AAEzC,UAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;GAC5B;;AAED,QAAM,CAAC,EAAE,EAAE;AACV,OAAI,CAAC,OAAO,UAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;;AAEhC,UAAO,IAAI,CAAC;GACZ;;AAED,KAAG,CAAC,EAAE,EAAE;AACP,UAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;GACpC;;AAED,OAAK,CAAC,EAAE,EAAE;AACT,UAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;GACpC;;AAED,YAAU,CAAC,MAAM,EAAE,MAAM,EAAE;AAC1B,OAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;;AAE5C,OAAI,CAAC,IAAI,EAAE;AACV,QAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;IACnC;;AAED,OAAI,EAAE,MAAM,YAAY,KAAK,CAAA,AAAC,EAAE;AAC/B,UAAM,GAAG,CAAC,MAAM,CAAC,CAAC;IAClB;;AAED,SAAM,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;AAChC,QAAI,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE;AACnC,SAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;KAC1B;IACD,CAAC,CAAC;;AAEH,UAAO,IAAI,CAAC;GACZ;;AAED,cAAY,CAAC,MAAM,EAAE,MAAM,EAAE;AAC5B,OAAI,IAAI,GAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;OACxC,KAAK,GAAG,CAAC,CAAC,CAAC;;AAEf,OAAI,IAAI,EAAE;AACT,QAAI,EAAE,MAAM,YAAY,KAAK,CAAA,AAAC,EAAE;AAC/B,WAAM,GAAG,CAAC,MAAM,CAAC,CAAC;KAClB;;AAED,UAAM,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;AAChC,UAAK,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;;AAErC,MAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;KAChC,CAAC,CAAC;IAEH;;AAED,UAAO,IAAI,CAAC;GACZ;EACD;;AAED,OAAM,CAAC,OAAO,GAAG,KAAK,CAAC;CACvB,CAAA,EAAE,CAAE","file":"rooms.js","sourcesContent":["(function () {\n\t'use strict';\n\n\tclass Room extends Array {\n\t\tconstructor(...args) {\n\t\t\tsuper(...args);\n\t\t}\n\t}\n\n\tclass Rooms {\n\t\tconstructor() {\n\t\t\tthis.__rooms = new Map();\n\t\t}\n\n\t\tcreate(id) {\n\t\t\tthis.__rooms.set(String(id), new Room());\n\n\t\t\treturn this.get(String(id));\n\t\t}\n\n\t\tremove(id) {\n\t\t\tthis.__rooms.delete(String(id));\n\n\t\t\treturn this;\n\t\t}\n\n\t\tget(id) {\n\t\t\treturn this.__rooms.get(String(id));\n\t\t}\n\n\t\texist(id) {\n\t\t\treturn this.__rooms.has(String(id));\n\t\t}\n\n\t\taddMembers(idRoom, member) {\n\t\t\tvar room = this.__rooms.get(String(idRoom));\n\n\t\t\tif (!room) {\n\t\t\t\troom = this.create(String(idRoom));\n\t\t\t}\n\n\t\t\tif (!(member instanceof Array)) {\n\t\t\t\tmember = [member];\n\t\t\t}\n\n\t\t\tmember.forEach(function (member) {\n\t\t\t\tif (!~room.indexOf(String(member))) {\n\t\t\t\t\troom.push(String(member));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn room;\n\t\t}\n\n\t\tremoveMember(idRoom, member) {\n\t\t\tvar room  = this.__rooms.get(String(idRoom)),\n\t\t\t    index = -1;\n\n\t\t\tif (room) {\n\t\t\t\tif (!(member instanceof Array)) {\n\t\t\t\t\tmember = [member];\n\t\t\t\t}\n\n\t\t\t\tmember.forEach(function (member) {\n\t\t\t\t\tindex = room.indexOf(String(member));\n\n\t\t\t\t\t~index && room.splice(index, 1);\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t}\n\n\tmodule.exports = Rooms;\n}());"]}